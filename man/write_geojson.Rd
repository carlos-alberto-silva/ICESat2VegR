% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/map_tools.R
\name{write_geojson}
\alias{write_geojson}
\title{Safely write a GeoJSON file from a lon/lat table}
\usage{
write_geojson(
  dt,
  path,
  xcol = "lon",
  ycol = "lat",
  crs = "EPSG:4326",
  overwrite = TRUE
)
}
\arguments{
\item{dt}{A data frame, \code{data.table}, or similar object containing at
least two numeric columns for coordinates.}

\item{path}{Character. Path to the output GeoJSON file.}

\item{xcol, ycol}{Character. Names of the longitude and latitude columns in
\code{dt}. Defaults are \code{lon} and \code{lat}.}

\item{crs}{Character. Coordinate reference system of the input coordinates.
Default is \code{EPSG:4326} (longitude/latitude in WGS84).}

\item{overwrite}{Logical. If \code{TRUE} (default), allow overwriting an
existing file.}
}
\value{
Invisibly returns \code{TRUE} on success. An error is thrown if both the
\pkg{terra}-based and \pkg{sf}-based write attempts fail.
}
\description{
Converts a data frame or similar tabular object with longitude/latitude
columns into a point layer and writes it to disk as a GeoJSON file.
The function first attempts to use \pkg{terra} via
\code{ICESat2VegR::to_vect()}, and falls back to \pkg{sf} if available.
}
\examples{
\dontrun{
  pts <- data.frame(
    id  = 1:3,
    lon = c(-82.35, -82.34, -82.33),
    lat = c( 29.65,  29.66,  29.67)
  )

  write_geojson_safe(pts, "points.geojson")
}

}
