% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ATLAS_dataDownload.R
\name{ATLAS_dataDownload}
\alias{ATLAS_dataDownload}
\title{Download ICESat-2 ATL03/ATL08 data}
\usage{
ATLAS_dataDownload(
  url,
  outdir = NULL,
  overwrite = FALSE,
  buffer_size = 512,
  timeout = 10,
  retries = 3,
  backoff = 2,
  quiet = FALSE,
  use_home_netrc = TRUE
)
}
\arguments{
\item{url}{Character vector; URLs to ATL03/ATL08 files
(e.g., returned by \code{ATLAS_dataFinder()}).}

\item{outdir}{Character; output directory (default: \code{\link[=tempdir]{tempdir()}}).}

\item{overwrite}{Logical; overwrite existing files? Default \code{FALSE}.}

\item{buffer_size}{Integer; chunk size in KB per \code{readBin} call
(default 512).}

\item{timeout}{Numeric; connection timeout (seconds) for establishing
the connection (default 10).}

\item{retries}{Integer; maximum attempts per file (default 3).}

\item{backoff}{Numeric; exponential backoff base used as
\code{sleep = backoff^(attempt - 1)} (default 2).}

\item{quiet}{Logical; suppress per-file messages (default \code{FALSE}).}

\item{use_home_netrc}{Logical; if \code{TRUE} (default), use a single
\file{~/.netrc} file in the user's home directory for Earthdata
credentials so they can be reused across projects. If \code{FALSE},
a \file{.netrc} file is created in \code{outdir}.}
}
\value{
(invisibly) a \code{data.frame} with columns:
\itemize{
\item \code{file}: file name
\item \code{dest}: full destination path
\item \code{status}: one of \code{"ok"}, \code{"failed"}, \code{"skipped"}
\item \code{attempts}: number of attempts used
\item \code{error}: error message (if any)
}
}
\description{
Download ICESat-2 ATL03 and ATL08 data from the LP DAAC / NSIDC endpoints.
Handles connection drops by resuming partial files and retrying with
exponential backoff. Authentication is handled via a \code{.netrc} file:
if it does not exist, the user is prompted for Earthdata Login credentials.
If authentication fails (e.g., wrong username/password), the user is
informed and can choose to re-enter credentials or cancel.
}
\examples{
\dontrun{
urls <- c(
  "https://example.com/path/to/ATL03_001.h5",
  "https://example.com/path/to/ATL08_001.h5"
)
status <- ATLAS_dataDownload(urls,
                             outdir        = "data",
                             retries       = 5,
                             backoff       = 2,
                             use_home_netrc = TRUE)
subset(status, status == "failed")
}

}
\references{
Credits to Cole Krehbiel. Code adapted from:
\url{https://git.earthdata.nasa.gov/projects/LPDUR/repos/daac_data_download_r/browse/DAACDataDownload.R}
}
