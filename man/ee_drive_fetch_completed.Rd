% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/map_tools.R
\name{ee_drive_fetch_completed}
\alias{ee_drive_fetch_completed}
\title{Find, wait, and download the most recent Drive file with a given prefix}
\usage{
ee_drive_fetch_completed(
  task,
  dsn,
  file_name_prefix,
  overwrite = TRUE,
  poll_drive_secs = 10,
  max_wait_secs = Inf,
  verbose = TRUE
)
}
\arguments{
\item{task}{EE \code{Task} (should be in \code{COMPLETED} state).}

\item{dsn}{Destination path on disk (GeoTIFF recommended).}

\item{file_name_prefix}{The export prefix used in the task.}

\item{overwrite}{Overwrite existing file at \code{dsn}.}

\item{poll_drive_secs}{Seconds between Drive searches.}

\item{max_wait_secs}{Maximum seconds to wait before giving up.}

\item{verbose}{Logical; print progress messages.}
}
\value{
If \code{terra} is available, a \code{SpatRaster}; otherwise the \code{dsn} path.
}
\description{
After a Drive export task is \code{COMPLETED}, this utility queries
Google Drive for files whose names contain \code{file_name_prefix}, waits until
results are indexed, and downloads the most recent match to \code{dsn}.
}
\keyword{internal}
