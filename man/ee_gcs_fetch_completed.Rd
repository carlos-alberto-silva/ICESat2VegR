% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/map_tools.R
\name{ee_gcs_fetch_completed}
\alias{ee_gcs_fetch_completed}
\title{Find, wait, and download the most recent GCS object with a given prefix}
\usage{
ee_gcs_fetch_completed(
  task,
  dsn,
  file_name_prefix,
  bucket = NULL,
  overwrite = TRUE,
  poll_secs = 10,
  max_wait_secs = Inf,
  verbose = TRUE
)
}
\arguments{
\item{task}{EE \code{Task} (should be in \code{COMPLETED} state).}

\item{dsn}{Destination path on disk (GeoTIFF recommended).}

\item{file_name_prefix}{The export prefix used in the task.}

\item{bucket}{Cloud Storage bucket name. If omitted, the function attempts
to infer it from the task \code{destination_uris}.}

\item{overwrite}{Overwrite existing file at \code{dsn}.}

\item{poll_secs}{Seconds between bucket listings.}

\item{max_wait_secs}{Maximum seconds to wait before giving up.}

\item{verbose}{Logical; print progress messages.}
}
\value{
If \code{terra} is available, a \code{SpatRaster}; otherwise the \code{dsn} path.
}
\description{
After a GCS export task is \code{COMPLETED}, this utility lists
objects in the target bucket with names starting with \code{file_name_prefix},
waits for availability, and downloads the largest (by size) to \code{dsn}.
}
\keyword{internal}
