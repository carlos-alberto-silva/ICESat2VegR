% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/map_tools.R
\name{map_download}
\alias{map_download}
\title{map_download: create task → start → (monitor) → download/return id}
\usage{
map_download(
  ee_image,
  method = c("drive", "gcs", "asset"),
  region,
  scale = NULL,
  file_name_prefix,
  dsn = NULL,
  drive_folder = NULL,
  gcs_bucket = NULL,
  asset_id = NULL,
  monitor = TRUE,
  task_time = 5,
  ...
)
}
\arguments{
\item{ee_image}{An \code{ee$Image} to export.}

\item{method}{One of \code{"drive"}, \code{"gcs"}, or \code{"asset"}.}

\item{region}{EE geometry/feature collection defining the export region.}

\item{scale}{Numeric pixel size in meters.}

\item{file_name_prefix}{Export file prefix (used to search/download).}

\item{dsn}{Destination path on disk (Drive/GCS methods).}

\item{drive_folder}{Drive folder name for Drive exports.}

\item{gcs_bucket}{Cloud Storage bucket name for GCS exports.}

\item{asset_id}{Destination asset id for Asset exports.}

\item{monitor}{Logical; if \code{TRUE}, poll the task until completion.}

\item{task_time}{Seconds between polls when monitoring.}

\item{...}{Additional arguments forwarded to the corresponding export helper
(\code{ee_image_to_drive()}, \code{ee_image_to_gcs()}, or \code{ee_image_to_asset()}), e.g.,
CRS, pyramiding policy, \code{maxPixels}, etc.}
}
\value{
For \code{"drive"}/\code{"gcs"}, a local path or a \code{SpatRaster} if \code{terra} is installed.
For \code{"asset"}, returns \code{invisible(asset_id)}.
}
\description{
One function to export an EE image to Drive, Cloud Storage, or
Asset; optionally monitor the task; and, for Drive/GCS, download the result
locally. Returns a local file (or \code{SpatRaster} if \code{terra} is available) for
Drive/GCS, or the \code{asset_id} (invisible) for Asset exports.
}
\examples{
\dontrun{
out <- map_download(
  ee_image = img, method = "drive", region = aoi, scale = 10,
  file_name_prefix = "my_pred", dsn = "pred.tif",
  drive_folder = "EE_Exports", monitor = TRUE
)
}
}
